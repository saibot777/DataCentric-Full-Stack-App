<h1>Customer Detail</h1>
<div class="row">
  <form (ngSubmit)="onSave()" class="form" #theForm="ngForm">
    <!--<div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" name="firstName" class="form-control" [(ngModel)]="customer.firstName">
    </div>
    <div class="form-group">
      <label for="lastName">Last Name:</label>
      <input type="text" name="lastName" class="form-control" [(ngModel)]="customer.lastName" required minlength="4" maxlength="15"
        #lastName="ngModel">
     </div>-->
    <!--<div class="form-group" [ngClass]="{'has-error': getValidationErrors('age')}">
      <label class="control-label" for="age">Age:</label>
      <input type="text" name="age" class="form-control" [(ngModel)]="customer.age">
      <span class="help-block" *ngIf="getValidationErrors('age')">{{getValidationErrors('age')}}</span>
    </div>-->
    <!--<div class="form-group">
      <label for="phone">Phone:</label>
      <input type="text" name="phone" class="form-control" [(ngModel)]="customer.phone">
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="text" name="email" class="form-control" [(ngModel)]="customer.email">
    </div>
    <div class="form-group">
      <label for="street">Street Address:</label>
      <input type="text" name="street" class="form-control" [(ngModel)]="customer.street">
    </div>
    <div class="form-group">
      <label for="city">City:</label>
      <input type="text" name="city" class="form-control" [(ngModel)]="customer.city">
    </div>
    <div class="form-group">
      <label for="state">State:</label>
      <input type="text" name="state" class="form-control" [(ngModel)]="customer.state">
    </div>
    <div class="form-group">
      <label for="zip">Zip:</label>
      <input type="text" name="zip" class="form-control" [(ngModel)]="customer.zip">
    </div>-->
    <zza-data-field [propName]="'firstName'" [propLabel]="'First Name'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'lastName'" [propLabel]="'Last Name'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'age'" [propLabel]="'Age'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'email'" [propLabel]="'Email'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'phone'" [propLabel]="'Phone'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'street'" [propLabel]="'Street Address'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'city'" [propLabel]="'City'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'state'" [propLabel]="'State'" [entity]="customer"></zza-data-field>
    <zza-data-field [propName]="'zip'" [propLabel]="'Zip'" [entity]="customer"></zza-data-field>
    <div class="form-group" *ngIf="errorMessage">
      <div class="alert alert-danger">{{errorMessage}}</div>
    </div>
    <div class="form-group alert alert-danger" *ngIf="customer?.entityAspect?.hasValidationErrors">
      <ul>
        <li *ngFor="let error of customer?.entityAspect?.getValidationErrors()">{{error.errorMessage}}</li>
      </ul>
    </div>
    <div class="form-group">
      <button class="btn btn-primary" type="submit">Save</button>
    </div>
  </form>
</div>

<div class="row" *ngIf="isEditMode">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Date</th>
        <th>Order Items</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders">
        <td>{{order.orderDate | date: 'short'}}</td>
        <td>{{order.items | orderitemsconcatproducts}}</td>
      </tr>
    </tbody>
  </table>
</div>
